language: php
php:
  - '5.6'
  - '7.0'
  - '7.1'

env:
  - SYMFONY_VERSION=3.1.*
  - SYMFONY_VERSION=3.0.*

before_script:
  - cp app/config/parameters.yml.dist app/config/parameters.yml
  - composer install
  - php app/console doctrine:database:create --env=test
  - php app/console doctrine:schema:create --env=test
  - php app/console doctrine:fixtures:load -n --env=test
  - composer require symfony/http-foundation:${SYMFONY_VERSION}

script:
  - phpunit --coverage-text
  - phpunit -c app

notifications:
  email:
  - quentin.rillet@gmail.com
